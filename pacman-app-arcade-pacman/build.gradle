plugins {
    id "org.beryx.jlink" version "3.1.1"
}

dependencies {
    implementation project(":pacman-core")
    implementation project(":pacman-ui-lib")
    implementation project(":pacman-ui")
    implementation libs.bundles.tinylog
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
}

test {
    useJUnitPlatform()
}

javafx {
    modules = ["javafx.base", "javafx.graphics", "javafx.controls", "javafx.media"]
}

application {
    mainModule = "x.arcade.pacman"
    mainClass = "de.amr.pacmanfx.arcade.pacman.app.Main"
}

jlink {
    launcher {
        name = "Arcade Pac-Man"
    }
    jpackage {
        if (os.isWindows()) {
            installerType = "msi"
            //imageOptions = ["--win-console"]
        }
        else if (os.isLinux()) {
            installerType = "deb"
        }
        else if (os.isMacOsX()) {
            installerType = "dmg"
        }
    }
}
