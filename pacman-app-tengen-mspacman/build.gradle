plugins {
    alias(libs.plugins.javafx)
    alias(libs.plugins.jlink)
    alias(libs.plugins.osdetector)
}

dependencies {
    implementation(
        project(":pacman-core"),
        project(":pacman-ui-lib"),
        project(":pacman-ui"),
        libs.bundles.tinylog
    )
}

javafx {
    modules = ["javafx.base", "javafx.graphics", "javafx.controls", "javafx.media"]
}

application {
    mainModule = "de.amr.pacmanfx.tengen.ms_pacman"
    mainClass = "de.amr.pacmanfx.tengen.ms_pacman.app.Main"
}

jlink {
    launcher {
        name = "Tengen Ms. Pac-Man"
    }
    jpackage {
        installerType = installerPkg
        if (osdetector.os == "osx") {
            installerOptions += [
                // Underscore not allowed!
                "--mac-package-identifier", "de.amr.pacmanfx.tengen.ms-pacman.app.Main"
            ]
        }
    }
}
